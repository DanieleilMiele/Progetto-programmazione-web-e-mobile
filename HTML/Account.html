<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profilo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../CSS/Account.css">
</head>

<body>
    <div class="bg-surface-secondary">
        <!-- Main content -->
        <div class="">
            <!-- Header -->
            <header class="bg-surface-primary">
                <div class="container-fluid p-0">
                    <div class="mb-npx">
                        <!-- Navbar -->
                        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                            <div class="container-fluid">
                                <!-- Brand logo -->
                                <a class="navbar-brand ms-2" href="">AFSE</a>
                                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false"
                                    aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon"></span>
                                </button>
                                <div class="collapse navbar-collapse" id="navbarScroll">
                                    <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll"
                                        style="--bs-scroll-height: 100px;">
                                        <!-- Pulsante album -->
                                        <li class="nav-item">
                                            <a class="nav-link" aria-current="page" href="Album_main.html">Album</a>
                                        </li>

                                        <!-- Pulsante account -->
                                        <li class="nav-item">
                                            <a class="nav-link active" href="Account.html">Profilo</a>
                                        </li>

                                        <!-- Lista dropdown -->
                                        <li class="nav-item dropdown">
                                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                                aria-expanded="false">Mercato</a>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href="Negozio.html">Acquista crediti/pacchetti</a></li>
                                                <li>
                                                    <hr class="dropdown-divider">
                                                </li>
                                                <li><a class="dropdown-item" href="Marketplace.html">Scambia figurine</a></li>
                                            </ul>
                                        </li>

                                        <!-- Altro pulsante temporaneo -->
                                        <li class="nav-item">
                                            <a class="nav-link disabled">Link</a>
                                        </li>
                                    </ul>

                                    <!-- Scritta di benvenuto -->
                                    <div class="d-flex ms-auto">
                                        <h5 id="nomeBenvenuto" class="text-white"></h5>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </header>

            <!-- Main -->
            <main class="bg-surface-secondary">
                <div class="container">
                    <div class="mt-5 p-3 row">
                        <!-- Carta dettagli account -->
                        <div class="col-5">
                            <div class="card shadow">
                                <div class="card-body">
                                    <div class="row pb-3">
                                        <h5 class="card-title mb-0 col">Dettagli account</h5>
                                        <button class="btn btn-sm btn-danger col-3 me-3" onclick="logOut()">Log out</button>
                                    </div>
                                    
                                    <div class="input-group mb-3">
                                        <span class="input-group-text">Username</span>
                                        <input id="username" type="text" disabled class="form-control" aria-describedby="username">
                                    </div>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text">Email</span>
                                        <input id="email" type="text" disabled class="form-control" aria-describedby="email">
                                    </div>
                                    <div class="input-group mb-3">
                                        <span class="input-group-text" id="password">Password</span>
                                        <input type="password" id="P" disabled class="form-control form-control-lg" aria-describedby="visualizzaPsw" autocomplete="off" onkeyup="checkPassword(this.value)"/>
                                        <button disabled class="btn btn-light" type="button" id="visualizzaPsw" onclick="visualizzaPassword()" style="border-radius: 0 0.5em 0.5em 0;">
                                            <img id="imgPsw" src="../Immagini/Occhio chiuso psw.png" alt="visualizzaPsw" style="width: 20px;">
                                        </button>
                                    </div>
        
                                    <!-- Sezione alert errori/successi -->
                                    <div id="alertDanger" class="alert alert-danger d-none" role="alert">
                                        Parametri password non rispettati!
                                    </div>
                                    <div id="alertStessaPsw" class="alert alert-danger d-none" role="alert">
                                        La nuova password non può essere uguale a quella attuale!
                                    </div>
                                    <div id="alertSuccess" class="alert alert-success d-none" role="alert">
                                        Parametri rispettati
                                    </div>
        
                                    <!-- Sezione pulsanti cambio password -->
                                    <div class="mb-2">
                                        <button id="btnCambioPsw" class="btn btn-sm btn-primary" onclick="attivaCambiaPassword()">Cambia password</button>
                                        <button disabled id="btnSalvaPsw" class="btn btn-sm btn-success d-none" onclick="cambiaPassword(); disattivaCambiaPassword()">Salva</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Carta super eroe preferito -->
                        <div class="col-6 ms-auto">
                            <div id="card_eroe_pref" class="card shadow d-flex flex-column pe-0" style="max-width: 540px;">
                                <div class="row g-0 felx-grow-1">
                                    <div class="col-6 d-flex flex-column">
                                        <div class="card-body d-flex flex-column flex-grow-1">
                                            <h5 class="card-title">Super eroe preferito</h5>
                                            <h6 id="nome_pref" class="card-text mt-1">Nome eroe</h6>
                                            <p id="descrizione_pref" class="card-text mb-0 mt-2">Presente in:
                                                <ul>
                                                    <li id="numero_fumetti"></li>
                                                    <li id="numero_serie"></li>
                                                    <li id="numero_storie"></li>
                                                    <li id="numero_eventi"></li>
                                                </ul>
                                            </p>
                                            <button id="dettagli_pref" class="btn btn-sm btn-primary mt-auto me-auto">Dettagli eroe</button>
                                        </div>
                                    </div>
                                    <div class="col-6 d-flex align-items-center">
                                        <img id="immagine_pref" src="..." class="img-fluid rounded shado ms-auto" alt="...">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Card elimina account -->
                    <div class="row mt-5">
                        <div class="col-12 mx-auto">
                            <div class="card shadow">
                                <div class="card-body d-flex align-items-center">
                                    <div>
                                        <h5 class="text-danger mb-2">Elimina account</h5>
                                        <p class="text-sm text-muted">
                                            Attenzione! Una volta eliminato l'account non sarà possibile recuperarlo.
                                        </p>
                                    </div>
                                    <div class="ms-auto">
                                        <button type="button" class="btn btn-danger" onclick="eliminaAccount()">Elimina account</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="../JS/Account.js"></script>
    <script src="../JS/Comune.js"></script>
    <script>
        checkLog();
        getNomeBenvenuto();
        popolazioneDettagliAccount();
        popolazionePreferito();
    </script>
</body>

</html>